

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>reStructuredText入门 &mdash; Sphinx 1.1.3 documentation</title>
    
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.1.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Sphinx 1.1.3 documentation"
          href="_static/opensearch.xml"/>
    <link rel="top" title="Sphinx 1.1.3 documentation" href="index.html" />
    <link rel="next" title="Sphinx标记结构" href="markup/index.html" />
    <link rel="prev" title="sphinx-build用法" href="invocation.html" />
 
<style type="text/css">
  table.right { float: right; margin-left: 20px; }
  table.right td { border: 1px solid #ccc; }
</style>

  </head>
  <body>
<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px">
<img src="_static/sphinx.png" alt="Sphinx logo" />
</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="markup/index.html" title="Sphinx标记结构"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="invocation.html" title="sphinx-build用法"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Sphinx主页</a>&nbsp;|&nbsp;</li>
        <li><a href="contents.html">文档</a>
          &raquo;</li>
 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="contents.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">reStructuredText入门</a><ul>
<li><a class="reference internal" href="#id2">段落</a></li>
<li><a class="reference internal" href="#inlinemarkup">行内标记</a></li>
<li><a class="reference internal" href="#id4">列表和“类”引用块</a></li>
<li><a class="reference internal" href="#id5">源代码</a></li>
<li><a class="reference internal" href="#rst-tables">表格</a></li>
<li><a class="reference internal" href="#id7">超链接</a><ul>
<li><a class="reference internal" href="#id8">外部链接</a></li>
<li><a class="reference internal" href="#id9">内部链接</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id10">章节</a></li>
<li><a class="reference internal" href="#id11">显式标记</a></li>
<li><a class="reference internal" href="#directives">指令（标识符）</a></li>
<li><a class="reference internal" href="#id14">图片</a></li>
<li><a class="reference internal" href="#id15">脚注</a></li>
<li><a class="reference internal" href="#id16">引文</a></li>
<li><a class="reference internal" href="#id17">替换</a></li>
<li><a class="reference internal" href="#id18">评论</a></li>
<li><a class="reference internal" href="#id19">源文件编码</a></li>
<li><a class="reference internal" href="#id20">陷阱</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="invocation.html"
                        title="previous chapter">sphinx-build用法</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="markup/index.html"
                        title="next chapter">Sphinx标记结构</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/rest.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="restructuredtext">
<span id="rst-primer"></span><h1>reStructuredText入门<a class="headerlink" href="#restructuredtext" title="Permalink to this headline">¶</a></h1>
<p>本节简要介绍了reStructuredText (reST)的概念和语法，旨在提供足够的信息来高效地编写文档。因为reST是一个简单的，不显眼的标记语言，这不会花费太长时间来入门。</p>
<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">权威的 <a class="reference external" href="http://docutils.sourceforge.net/rst.html">reStructuredText用户文档</a>。</p>
</div>
<div class="section" id="id2">
<h2>段落<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p>段落(<a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/restructuredtext.html#paragraphs">ref</a>)是reST文档中最基本的块。段落是由一个或多个空白行分离的简单的文本块。在Python中，缩进在reST中是具有重要意义，所以同一段落的所有行必须左对齐而且是同一级缩进。</p>
</div>
<div class="section" id="inlinemarkup">
<span id="id3"></span><h2>行内标记<a class="headerlink" href="#inlinemarkup" title="Permalink to this headline">¶</a></h2>
<p>注：因为找不到合适的词语来翻译role，所以没有翻译！</p>
<p>标准的行内标记相当简单：使用</p>
<ul class="simple">
<li>单星号： <tt class="docutils literal"><span class="pre">*text*</span></tt> 强调 (斜体),</li>
<li>双星号： <tt class="docutils literal"><span class="pre">**text**</span></tt> 重点强调 (粗体)，以及</li>
<li>反引号： <tt class="docutils literal"><span class="pre">``text``</span></tt> 代码示例。</li>
</ul>
<p>如果星号或反引号出​​现在文本会对行内标记分隔符引起混淆，他们必须用一个反斜杠进行转义。</p>
<p>注意行内标记一些限制:</p>
<ul class="simple">
<li>不能嵌套，</li>
<li>文本不能以空格开始或者结束： <tt class="docutils literal"><span class="pre">*</span> <span class="pre">text*</span></tt> 是不正确的，</li>
<li>必须由空格从周围的文本中分离出来。可以通过使用转义的空格来规避这个限制：thisis<em>one</em>word。</li>
</ul>
<p>docutils以后的版本可能会取消上列出的这些限制。</p>
<p>reST也允许自定义“文本解释role”，这就意味着所包含的文本应以一种特定的方式解释。Sphinx用它提供了语义标记和交叉引用的标识符。一般的语法格式是 <tt class="docutils literal"><span class="pre">:rolename:`content`</span></tt> 。</p>
<p>标准的reST提供了如下些roles：</p>
<ul class="simple">
<li><a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/roles.html#emphasis">emphasis</a> &#8211; 来替代 <tt class="docutils literal"><span class="pre">*emphasis*</span></tt></li>
<li><a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/roles.html#strong">strong</a> &#8211; 代替 <tt class="docutils literal"><span class="pre">**strong**</span></tt></li>
<li><a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/roles.html#literal">literal</a> &#8211; 代替 <tt class="docutils literal"><span class="pre">``literal``</span></tt></li>
<li><a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/roles.html#subscript">subscript</a> &#8211; 下标文本</li>
<li><a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/roles.html#superscript">superscript</a> &#8211; 上标文本</li>
<li><a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/roles.html#title-reference">title-reference</a> &#8211; 书，期刊，以及其他材料的标题</li>
</ul>
<p>Sphinx添加的roles请见 <a class="reference internal" href="markup/inline.html#inline-markup"><em>Inline markup</em></a>。</p>
</div>
<div class="section" id="id4">
<h2>列表和“类”引用块<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
<p>列表标记(<a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/restructuredtext.html#bullet-lists">ref</a>) 是自然的：只要在段落开头放置一个星号和缩进正常。带编号的列表同样适用；它们也可以自动编号通过使用标志 <tt class="docutils literal"><span class="pre">#</span></tt>:</p>
<div class="highlight-rest"><div class="highlight"><pre><span class="m">*</span> This is a bulleted list.
<span class="m">*</span> It has two items, the second
  item uses two lines.

<span class="m">1.</span> This is a numbered list.
<span class="m">2.</span> It has two items too.

<span class="m">#.</span> This is a numbered list.
<span class="m">#.</span> It has two items too.
</pre></div>
</div>
<p>嵌套列表是可能的，但要知道，它们必须由空行从父列表中分隔:</p>
<div class="highlight-rest"><div class="highlight"><pre><span class="m">*</span> this is
<span class="m">*</span> a list

  <span class="m">*</span> with a nested list
  <span class="m">*</span> and some subitems

<span class="m">*</span> and here the parent list continues
</pre></div>
</div>
<p>定义列表 (<a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/restructuredtext.html#definition-lists">ref</a>) 的创建:</p>
<div class="highlight-rest"><div class="highlight"><pre>term (up to a line of text)
   Definition of the term, which must be indented

   and can even consist of multiple paragraphs

next term
   Description.
</pre></div>
</div>
<p>请注意，<strong>term</strong> 不能有一个以上的文本行。</p>
<p>引用段落(<a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/restructuredtext.html#block-quotes">ref</a>) 可以通过比周围的段落更缩进来创建。</p>
<p>行块元素 (<a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/restructuredtext.html#line-blocks">ref</a>) 是防止行被破坏的方式（保留行原样的方式）:</p>
<div class="highlight-rest"><div class="highlight"><pre><span class="o">|</span> These lines are
<span class="o">|</span> broken exactly like in
<span class="o">|</span> the source file.
</pre></div>
</div>
<p>还有其它几个特殊的功能块:</p>
<ul class="simple">
<li>field lists (<a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/restructuredtext.html#field-lists">ref</a>)</li>
<li>option lists (<a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/restructuredtext.html#option-lists">ref</a>)</li>
<li>quoted literal blocks (<a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/restructuredtext.html#quoted-literal-blocks">ref</a>)</li>
<li>doctest blocks (<a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/restructuredtext.html#doctest-blocks">ref</a>)</li>
</ul>
</div>
<div class="section" id="id5">
<h2>源代码<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<p>文字代码块(<a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/restructuredtext.html#literal-blocks">ref</a>)是在段尾加入特殊标记 <tt class="docutils literal"><span class="pre">::</span></tt> 引入的。文字代码块必须缩进（像所有的段落，是通过空行来分离的）:</p>
<div class="highlight-rest"><div class="highlight"><pre>This is a normal text paragraph. The next paragraph is a code sample<span class="se">::</span>

<span class="s">   It is not processed in any way, except</span>
<span class="s">   that the indentation is removed.</span>

<span class="s">   It can span multiple lines.</span>

This is a normal text paragraph again.
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">::</span></tt> 标记的处理非常聪明:</p>
<ul class="simple">
<li>如果出现在段落本身中，那么整个段落将会从文档中删除（也就是说不会出现在生成的文档中）。</li>
<li>如果它前面的空白，标记将被删除。</li>
<li>如果它的前面非空白，标记会被单个冒号取代。</li>
</ul>
<p>通过这种方式，上面第二句将呈现为 &#8220;The next paragraph is a code sample:&#8221;。</p>
</div>
<div class="section" id="rst-tables">
<span id="id6"></span><h2>表格<a class="headerlink" href="#rst-tables" title="Permalink to this headline">¶</a></h2>
<p>Sphinx支持两种表格形式。对于 <em>格子表格</em> (<a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/restructuredtext.html#grid-tables">ref</a>)，必须自己“画”自己的单元格。它们看起来像这样:</p>
<div class="highlight-rest"><div class="highlight"><pre>+------------------------+------------+----------+----------+
<span class="o">|</span> Header row, column 1   | Header 2   | Header 3 | Header 4 |
<span class="o">|</span> (header rows optional) |            |          |          |
+========================+============+==========+==========+
<span class="o">|</span> body row 1, column 1   | column 2   | column 3 | column 4 |
+------------------------+------------+----------+----------+
<span class="o">|</span> body row 2             | ...        | ...      |          |
+------------------------+------------+----------+----------+
</pre></div>
</div>
<p><em>简单表格</em> (<a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/restructuredtext.html#simple-tables">ref</a>) 更容易书写，但是有限制：表格必须是两行以及以上，而且第一列不能包含多行。它们看起来像这样:</p>
<div class="highlight-rest"><div class="highlight"><pre>=====  =====  =======
A      B      A and B
=====  =====  =======
False  False  False
True   False  False
False  True   False
True   True   True
=====  =====  =======
</pre></div>
</div>
</div>
<div class="section" id="id7">
<h2>超链接<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id8">
<h3>外部链接<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<p>使用 <tt class="docutils literal"><span class="pre">`Link</span> <span class="pre">text</span> <span class="pre">&lt;http://example.com/&gt;`_</span></tt> 来实现内嵌的网页链接。如果链接文本是Web地址，你一点都不需要特殊标记，解析器可以识别在普通的文本的链接和邮件地址。</p>
<p>你也可以把链接和目标定义(<a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/restructuredtext.html#hyperlink-targets">ref</a>)分开，像这样:</p>
<div class="highlight-rest"><div class="highlight"><pre>This is a paragraph that contains <span class="s">`a link`_</span>.

<span class="p">..</span> <span class="nt">_a link:</span> http://example.com/
</pre></div>
</div>
</div>
<div class="section" id="id9">
<h3>内部链接<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<p>内部链接是通过Sphinx提供的一个特殊的reST role来实现的，请看 <a class="reference internal" href="markup/inline.html#ref-role"><em>Cross-referencing arbitrary locations</em></a>.</p>
</div>
</div>
<div class="section" id="id10">
<h2>章节<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h2>
<p>章节头 (<a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/restructuredtext.html#sections">ref</a>) 是用特殊的标点符作为章节标题的下划线来创建的（上划线是可选的），只要文字:</p>
<div class="highlight-rest"><div class="highlight"><pre><span class="gh">=================</span>
<span class="gh">This is a heading</span>
<span class="gh">=================</span>
</pre></div>
</div>
<p>通常，没有特定的字符指定给标题级别，因为结构是用从继承的标题来确定的。对于python文档，本公约您可以按照：</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">#</span></tt> with overline, for parts</li>
<li><tt class="docutils literal"><span class="pre">*</span></tt> with overline, for chapters</li>
<li><tt class="docutils literal"><span class="pre">=</span></tt>, for sections</li>
<li><tt class="docutils literal"><span class="pre">-</span></tt>, for subsections</li>
<li><tt class="docutils literal"><span class="pre">^</span></tt>, for subsubsections</li>
<li><tt class="docutils literal"><span class="pre">&quot;</span></tt>, for paragraphs</li>
</ul>
<p>当然，您可以自由使用自己的标记字符（参看reST文档），并使用一个更深层次的嵌套级别，但请记住，大多数的目标格式（HTML，LaTeX）有限地支持嵌套深度。</p>
</div>
<div class="section" id="id11">
<h2>显式标记<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h2>
<p>&#8220;显式标记&#8221; (<a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/restructuredtext.html#explicit-markup-blocks">ref</a>) 在reST中是用于需要进行特殊处理的结构，比如脚注，特别突出的段落，注释，和通用指令（标识符）。</p>
<p>显式标记块的第一行是以 <tt class="docutils literal"><span class="pre">..</span></tt> 开始，接着是紧随着空格，被结束于同样层级缩进的下一段落。（显式标记和正常的段落之间需要有一个空行。当你写它的时候，可能听起来有点复杂，但它是直观的。）</p>
</div>
<div class="section" id="directives">
<span id="id12"></span><h2>指令（标识符）<a class="headerlink" href="#directives" title="Permalink to this headline">¶</a></h2>
<p>指令或者标识符（<a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/restructuredtext.html#directives">ref</a>）是一个通用的显式标记块。除了roles，指令或者标识符是reST的扩展机制，Sphinx大量地使用了它。</p>
<p>Docutils支持如下的指令（标识符）：</p>
<ul class="simple">
<li>警告: <a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/directives.html#attention">attention</a>, <a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/directives.html#caution">caution</a>, <a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/directives.html#danger">danger</a>,
<a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/directives.html#error">error</a>, <a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/directives.html#hint">hint</a>, <a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/directives.html#important">important</a>, <a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/directives.html#note">note</a>,
<a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/directives.html#tip">tip</a>, <a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/directives.html#warning">warning</a> 以及 <a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/directives.html#admonition">admonition</a>。</li>
<li>图片:<ul>
<li><a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/directives.html#image">image</a> (请见下面的 <a href="#id22"><span class="problematic" id="id23">Images_</span></a> )</li>
<li><a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/directives.html#figure">figure</a> (带有标题和可选的图例的图片)</li>
</ul>
</li>
<li>其它内容元素:<ul>
<li><a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/directives.html#table-of-contents">contents</a> （一个局部的，即只对当前文件的，内容表）</li>
<li><a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/directives.html#container">container</a> （具有特定类的容器，用于HTML生成 <tt class="docutils literal"><span class="pre">&lt;div&gt;</span></tt> ）</li>
<li><a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/directives.html#rubric">rubric</a> (一个与文件章节无关的标题)</li>
<li><a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/directives.html#topic">topic</a>, <a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/directives.html#sidebar">sidebar</a> (特别强调了内容元素)</li>
<li><a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/directives.html#parsed-literal">parsed-literal</a> (支持行内标记的文字块)</li>
<li><a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/directives.html#epigraph">epigraph</a> (带有属性行的块引用)</li>
<li><a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/directives.html#highlights">highlights</a>, <a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/directives.html#pull-quote">pull-quote</a> （带自己的类属性的块引用）</li>
<li><a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/directives.html#compound">compound</a> (组合段落)</li>
</ul>
</li>
<li>特色表格:<ul>
<li><a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/directives.html#table">table</a> （带标题的表格）</li>
<li><a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/directives.html#csv-table">csv-table</a> （由逗号分开的值生成的表格）</li>
<li><a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/directives.html#list-table">list-table</a> （由一系列列表生成的表格）</li>
</ul>
</li>
<li>特色指令（标识符）:<ul>
<li><a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/directives.html#raw">raw</a> （包括原生格式标记）</li>
<li><a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/directives.html#include">include</a> (包含其他文件的reStructuredText)
&#8211; 在Sphinx中，当给定一个绝对的文件路径，该指令（标识符）将其作为相对于源目录来处理</li>
<li><a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/directives.html#class">class</a> (class属性赋给下一个元素) <a class="footnote-reference" href="#id21" id="id13">[1]</a></li>
</ul>
</li>
<li>HTML特性:<ul>
<li><a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/directives.html#meta">meta</a> (生成HTML <tt class="docutils literal"><span class="pre">&lt;meta&gt;</span></tt> 标签)</li>
<li><a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/directives.html#title">title</a> (覆盖文件的标题)</li>
</ul>
</li>
<li>Influencing markup:<ul>
<li><a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/directives.html#default-role">default-role</a> (设置一个新的默认role)</li>
<li><a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/directives.html#role">role</a> (创建一个新的role)</li>
</ul>
</li>
</ul>
<p>请 <em>不要</em> 使用指令（标识符） <a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/directives.html#sectnum">sectnum</a>， <a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/directives.html#header">header</a> 以及
<a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/directives.html#footer">footer</a>。</p>
<p>Sphinx自己增加的指令（标识符）是在 <a class="reference internal" href="markup/index.html#sphinxmarkup"><em>Sphinx标记结构</em></a> 中描述的。</p>
<p>基本上，指令（标识符）由一个名称，参数，选项和内容组成。（请记住这些术语，它被用来在接下来的章节描述了自定义指令或者标识符。）请看例子，:</p>
<div class="highlight-rest"><div class="highlight"><pre><span class="p">..</span> <span class="ow">function</span><span class="p">::</span> foo(x)
              foo(y, z)
   <span class="nc">:module:</span> <span class="nf">some.module.name</span>

   Return a line of text input from the user.
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">function</span></tt> 是指令（标识符）的名称。在这里它有两个参数，第一行其余的部分以及第二行，还有一个选项 <tt class="docutils literal"><span class="pre">module</span></tt>
（正如可以看到的，选项是在参数的下一行以及以冒号开始以冒号结束）。选项必须跟指令的内容缩进到相同的水平。</p>
<p>指令（标识符）的内容与选项之间空一行，需要相对于指令（标识符）的首行缩进（以指令的首行为缩进的对照点）。</p>
</div>
<div class="section" id="id14">
<h2>图片<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h2>
<p>reST支持图片指令（标识符）(<a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/directives.html#image">ref</a>)，像这样使用:</p>
<div class="highlight-rest"><div class="highlight"><pre><span class="p">..</span> <span class="ow">image</span><span class="p">::</span> gnu.png
   (options)
</pre></div>
</div>
<p>在Sphinx中使用图片指令（标识符），文件名(这里是指 <tt class="docutils literal"><span class="pre">gnu.png</span></tt>)必须是相对于源文件，或者是绝对的但是相对于顶部的源目录。例如，在 <tt class="docutils literal"><span class="pre">sketch/spam.rst</span></tt> 文件中可以使用图片 <tt class="docutils literal"><span class="pre">images/spam.png</span></tt>，也可以使用 <tt class="docutils literal"><span class="pre">../images/spam.png</span></tt> 或者 <tt class="docutils literal"><span class="pre">/images/spam.png</span></tt>。</p>
<p>Sphinx将会自动将图像文件拷贝到输出目录中（例如HTML格式输出，会拷贝到 <tt class="docutils literal"><span class="pre">_static</span></tt> 目录中。）</p>
<p>对于图片尺寸选项（ <tt class="docutils literal"><span class="pre">width</span></tt> 和 <tt class="docutils literal"><span class="pre">height</span></tt>）的解释如下：如果大小没有单位或单位是像素，那图片大小将会被那些支持像素的输出格式关心（LaTeX格式就不在乎这种情况的图片大小）。HTML和LaTeX输出格式使用其他的单位（像 <tt class="docutils literal"><span class="pre">pt</span></tt> 表示像素点）。</p>
<p>Sphinx扩展了标准的docutils的功能，允许文件扩展名为星号:</p>
<div class="highlight-rest"><div class="highlight"><pre><span class="p">..</span> <span class="ow">image</span><span class="p">::</span> gnu.*
</pre></div>
</div>
<p>Sphinx搜索所有的图片匹配提供的模式，并确定其类型。每个生成器会从所有的候选者中选择最佳的图片。比如，如果给出 <tt class="docutils literal"><span class="pre">gnu.*</span></tt> 这样的文件名以及源代码树中存在 <tt class="file docutils literal"><span class="pre">gnu.pdf</span></tt> 和 <tt class="file docutils literal"><span class="pre">gnu.png</span></tt> 这两个文件，LaTeX 生成器会选择前者，HTML生成器则会选择后者。</p>
<p class="versionchanged">
<span class="versionmodified">Changed in version 0.4: </span>增加了支持以星号结尾的文件名。</p>
<p class="versionchanged">
<span class="versionmodified">Changed in version 0.6: </span>图片的路径可以是绝对的。</p>
</div>
<div class="section" id="id15">
<h2>脚注<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h2>
<p>可以使用 <tt class="docutils literal"><span class="pre">[#name]_</span></tt> 标注在脚注的位置，在文档的最后的 <tt class="docutils literal"><span class="pre">..</span> <span class="pre">rubric::</span> <span class="pre">Footnotes</span></tt> 后添加脚注的内容，像这样:</p>
<div class="highlight-rest"><div class="highlight"><pre>Lorem ipsum <span class="s">[#f1]_</span> dolor sit amet ... <span class="s">[#f2]_</span>

<span class="p">..</span> <span class="ow">rubric</span><span class="p">::</span> Footnotes

<span class="p">..</span> <span class="nt">[#f1]</span> Text of the first footnote.
<span class="p">..</span> <span class="nt">[#f2]</span> Text of the second footnote.
</pre></div>
</div>
<p>你也可以明确用数字标注脚注或者通过不指定 <tt class="docutils literal"><span class="pre">name</span></tt> 使用自动数字标记脚注(<tt class="docutils literal"><span class="pre">[#]_</span></tt>)。</p>
</div>
<div class="section" id="id16">
<h2>引文<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h2>
<p>Sphinx支持标准reST引文(<a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/restructuredtext.html#citations">ref</a>)，增加了所有引文是“全局的”的特性，即：所有的文件可以使用所有的引文。这样使用它们:</p>
<div class="highlight-rest"><div class="highlight"><pre>Lorem ipsum <span class="s">[Ref]_</span> dolor sit amet.

<span class="p">..</span> <span class="nt">[Ref]</span> Book or article reference, URL or whatever.
</pre></div>
</div>
<p>引文用法是类似的脚注的用法，但带标签不是数字，或以``#``开始。</p>
</div>
<div class="section" id="id17">
<h2>替换<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h2>
<p>reST支持“替换”(<a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/restructuredtext.html#substitution-definitions">ref</a>)，这是文本和/或标记在文中 <tt class="docutils literal"><span class="pre">|name|</span></tt> 提到。它们是像脚注用显著的标记块，像这样:</p>
<div class="highlight-rest"><div class="highlight"><pre><span class="p">..</span> <span class="nt">|name|</span> <span class="ow">replace</span><span class="p">::</span> replacement <span class="ge">*text*</span>
</pre></div>
</div>
<p>或者，这样:</p>
<div class="highlight-rest"><div class="highlight"><pre><span class="p">..</span> <span class="nt">|caution|</span> <span class="ow">image</span><span class="p">::</span> warning.png
             <span class="nc">:alt:</span> <span class="nf">Warning!</span>
</pre></div>
</div>
<p>细节请看 <a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/restructuredtext.html#substitution-definitions">reST reference for substitutions</a>。</p>
<p>如果你想在所有文件使用中一些替换，把它们写入 <a class="reference internal" href="config.html#confval-rst_prolog"><tt class="xref std std-confval docutils literal"><span class="pre">rst_prolog</span></tt></a> 或把它们放到一个单独的文件，要使用它们的所有文件中包含它，通过使用 <tt class="xref rst rst-dir docutils literal"><span class="pre">include</span></tt> 指令或者标识符。（务必使得include文件扩展名与其他的源文件不同，以免让Sphinx把它作为一个独立的文件。）</p>
<p>Sphinx自定义了一些默认的替换, 请看 <a class="reference internal" href="markup/inline.html#default-substitutions"><em>Substitutions</em></a>。</p>
</div>
<div class="section" id="id18">
<h2>评论<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h2>
<p>不是一个有效的标记结构（如上述的脚注）的每一个明确的标记块被视为一条评论（<a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/restructuredtext.html#comments">ref</a>）。例如:</p>
<div class="highlight-rest"><div class="highlight"><pre><span class="cp">.. This is a comment.</span>
</pre></div>
</div>
<p>您可以缩进文本在注释开始后，这样可以形成多行注释:</p>
<div class="highlight-rest"><div class="highlight"><pre><span class="cp">..</span>
<span class="cp">   This whole indented block</span>
<span class="cp">   is a comment.</span>

<span class="cp">   Still in the comment.</span>
</pre></div>
</div>
</div>
<div class="section" id="id19">
<h2>源文件编码<a class="headerlink" href="#id19" title="Permalink to this headline">¶</a></h2>
<p>由于包括特殊字符如在reST中的破折号或版权标志，最简单的方法是直接写为Unicode字符，指定编码。Sphinx假定源文件默认情况下是使用UTF-8编码；你可以改变 <a class="reference internal" href="config.html#confval-source_encoding"><tt class="xref std std-confval docutils literal"><span class="pre">source_encoding</span></tt></a> 这一配置值。</p>
</div>
<div class="section" id="id20">
<h2>陷阱<a class="headerlink" href="#id20" title="Permalink to this headline">¶</a></h2>
<p>这有些问题通常发生在编写reST文档的时候：</p>
<ul class="simple">
<li><strong>分离的内嵌标记:</strong> 正如上面所说，行内标记的跨度必须用由非单词字符把周围的文字分开，可以使用转义的空格来避免。详情请看 <a class="reference external" href="http://docutils.sf.net/docs/ref/rst/restructuredtext.html#inline-markup">the reference</a>。</li>
<li><strong>没有嵌套内联标记:</strong> 像 <tt class="docutils literal"><span class="pre">*see</span> <span class="pre">:func:`foo`*</span></tt> 是不可能存在的。</li>
</ul>
<p class="rubric">Footnotes</p>
<table class="docutils footnote" frame="void" id="id21" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id13">[1]</a></td><td>当默认域包含一个 <tt class="xref rst rst-dir docutils literal"><span class="pre">class</span></tt> 指令（标识符），该指令将被隐藏。因此，Sphinx将它转为 <tt class="xref rst rst-dir docutils literal"><span class="pre">rst-class</span></tt>。</td></tr>
</tbody>
</table>
</div>
</div>


          </div>
        </div>
      </div>
<div style="right">
<script type="text/javascript"><!--
google_ad_client = "ca-pub-3421553373953599";
/* 评论上方 */
google_ad_slot = "2110492886";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>

<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F9adc7a1c86496c8e2bc61c4f8fc92d30' type='text/javascript'%3E%3C/script%3E"));
</script>


      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="markup/index.html" title="Sphinx标记结构"
             >next</a> |</li>
        <li class="right" >
          <a href="invocation.html" title="sphinx-build用法"
             >previous</a> |</li>
        <li><a href="index.html">Sphinx主页</a>&nbsp;|&nbsp;</li>
        <li><a href="contents.html">文档</a>
          &raquo;</li>
 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2007-2011, Georg Brandl.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>